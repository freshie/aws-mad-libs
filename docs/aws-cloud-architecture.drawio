<mxfile host="app.diagrams.net" modified="2025-01-13T10:00:00.000Z" agent="5.0" etag="aws123" version="22.1.16" type="device">
  <diagram name="AWS Serverless Architecture" id="aws-architecture">
    <mxGraphModel dx="1600" dy="1000" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="1000" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- Title -->
        <mxCell id="title" value="AI Mad Libs - AWS Serverless Architecture" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;fontStyle=1;fontColor=#232f3e;" vertex="1" parent="1">
          <mxGeometry x="500" y="20" width="600" height="40" as="geometry" />
        </mxCell>
        
        <!-- Users -->
        <mxCell id="users" value="Users&#xa;Web Browsers&#xa;Mobile Devices" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1f5fe;strokeColor=#0277bd;fontSize=14;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="50" y="100" width="120" height="80" as="geometry" />
        </mxCell>
        
        <!-- Route 53 -->
        <mxCell id="route53" value="Route 53&#xa;DNS Management" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff3e0;strokeColor=#f57c00;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="220" y="100" width="120" height="80" as="geometry" />
        </mxCell>
        
        <!-- CloudFront -->
        <mxCell id="cloudfront" value="CloudFront&#xa;Global CDN&#xa;Edge Locations" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e8f5e8;strokeColor=#4caf50;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="390" y="100" width="120" height="80" as="geometry" />
        </mxCell>
        
        <!-- WAF -->
        <mxCell id="waf" value="AWS WAF&#xa;Web Application&#xa;Firewall" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffebee;strokeColor=#f44336;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="560" y="100" width="120" height="80" as="geometry" />
        </mxCell>
        
        <!-- S3 Static Hosting -->
        <mxCell id="s3-static" value="S3 Bucket&#xa;Static Website&#xa;React App Assets" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e8f5e8;strokeColor=#4caf50;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="390" y="220" width="120" height="80" as="geometry" />
        </mxCell>
        
        <!-- API Gateway -->
        <mxCell id="api-gateway" value="API Gateway&#xa;REST API&#xa;/api/* endpoints" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff3e0;strokeColor=#f57c00;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="730" y="100" width="120" height="80" as="geometry" />
        </mxCell>
        
        <!-- Lambda Functions -->
        <mxCell id="lambda-story-gen" value="Lambda Function&#xa;Story Generation&#xa;512MB | 30s" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff8e1;strokeColor=#ff8f00;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="900" y="80" width="120" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="lambda-story-fill" value="Lambda Function&#xa;Story Fill&#xa;512MB | 30s" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff8e1;strokeColor=#ff8f00;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="1040" y="80" width="120" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="lambda-image-gen" value="Lambda Function&#xa;Image Generation&#xa;1024MB | 60s" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff8e1;strokeColor=#ff8f00;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="1180" y="80" width="120" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="lambda-test-aws" value="Lambda Function&#xa;Test AWS&#xa;256MB | 15s" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff8e1;strokeColor=#ff8f00;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="1320" y="80" width="120" height="60" as="geometry" />
        </mxCell>
        
        <!-- DynamoDB -->
        <mxCell id="dynamodb" value="DynamoDB&#xa;Single Table Design&#xa;Pay-per-Request" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e3f2fd;strokeColor=#1976d2;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="200" y="300" width="120" height="80" as="geometry" />
        </mxCell>
        
        <!-- DynamoDB GSI -->
        <mxCell id="dynamodb-gsi" value="GSI Indexes&#xa;Room Code Index&#xa;Player Lookups" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e3f2fd;strokeColor=#1976d2;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="200" y="400" width="120" height="60" as="geometry" />
        </mxCell>
        
        <!-- Bedrock Nova Lite -->
        <mxCell id="bedrock-nova-lite" value="Bedrock&#xa;Nova Lite&#xa;Text Generation" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f3e5f5;strokeColor=#7b1fa2;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="400" y="500" width="120" height="80" as="geometry" />
        </mxCell>
        
        <!-- Bedrock Nova Canvas -->
        <mxCell id="bedrock-nova-canvas" value="Bedrock&#xa;Nova Canvas&#xa;Image Generation" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f3e5f5;strokeColor=#7b1fa2;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="540" y="500" width="120" height="80" as="geometry" />
        </mxCell>
        
        <!-- S3 Image Storage -->
        <mxCell id="s3-images" value="S3 Bucket&#xa;Generated Images&#xa;Signed URLs" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e8f5e8;strokeColor=#4caf50;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="900" y="300" width="120" height="80" as="geometry" />
        </mxCell>
        
        <!-- IAM -->
        <mxCell id="iam" value="IAM Roles&#xa;Least Privilege&#xa;Service Permissions" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffebee;strokeColor=#f44336;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="1100" y="300" width="120" height="80" as="geometry" />
        </mxCell>
        
        <!-- CloudWatch -->
        <mxCell id="cloudwatch" value="CloudWatch&#xa;Logs and Metrics&#xa;Monitoring" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1f5fe;strokeColor=#0277bd;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="1300" y="300" width="120" height="80" as="geometry" />
        </mxCell>
        
        <!-- Cost Benefits -->
        <mxCell id="cost-title" value="Cost and Performance Benefits" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;fontColor=#33691e;" vertex="1" parent="1">
          <mxGeometry x="50" y="650" width="300" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="pay-per-use" value="Pay-per-Use&#xa;$22-50/month&#xa;(1K games)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f1f8e9;strokeColor=#689f38;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="50" y="700" width="100" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="auto-scaling" value="Auto-scaling&#xa;0 to unlimited&#xa;No planning" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f1f8e9;strokeColor=#689f38;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="170" y="700" width="100" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="global-cdn" value="Global CDN&#xa;Sub-100ms latency&#xa;Edge caching" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f1f8e9;strokeColor=#689f38;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="290" y="700" width="100" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="zero-maintenance" value="Zero Maintenance&#xa;Fully managed&#xa;Auto-updates" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f1f8e9;strokeColor=#689f38;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="410" y="700" width="100" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="high-availability" value="99.99% Uptime&#xa;Multi-AZ&#xa;SLA guaranteed" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f1f8e9;strokeColor=#689f38;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="530" y="700" width="100" height="60" as="geometry" />
        </mxCell>
        
        <!-- Data Retention -->
        <mxCell id="retention-title" value="Data Retention and Privacy" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;fontColor=#e65100;" vertex="1" parent="1">
          <mxGeometry x="700" y="650" width="300" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="templates-permanent" value="Story Templates&#xa;Permanent&#xa;Reusable" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff3e0;strokeColor=#f57c00;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="700" y="700" width="100" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="game-data-24h" value="Game Data&#xa;24-hour TTL&#xa;Auto-cleanup" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff3e0;strokeColor=#f57c00;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="820" y="700" width="100" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="images-7d" value="Images&#xa;7-day expiry&#xa;Signed URLs" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff3e0;strokeColor=#f57c00;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="940" y="700" width="100" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="gdpr-compliant" value="GDPR Ready&#xa;Privacy first&#xa;Data minimization" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff3e0;strokeColor=#f57c00;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="1060" y="700" width="100" height="60" as="geometry" />
        </mxCell>
        
        <!-- Data Flow Arrows -->
        <mxCell id="arrow1" value="" style="endArrow=classic;html=1;rounded=0;strokeColor=#0277bd;strokeWidth=3;" edge="1" parent="1" source="users" target="route53">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="180" y="140" as="sourcePoint" />
            <mxPoint x="220" y="140" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="arrow2" value="" style="endArrow=classic;html=1;rounded=0;strokeColor=#f57c00;strokeWidth=3;" edge="1" parent="1" source="route53" target="cloudfront">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="350" y="140" as="sourcePoint" />
            <mxPoint x="390" y="140" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="arrow3" value="" style="endArrow=classic;html=1;rounded=0;strokeColor=#4caf50;strokeWidth=3;" edge="1" parent="1" source="cloudfront" target="waf">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="520" y="140" as="sourcePoint" />
            <mxPoint x="560" y="140" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="arrow4" value="" style="endArrow=classic;html=1;rounded=0;strokeColor=#4caf50;strokeWidth=2;" edge="1" parent="1" source="cloudfront" target="s3-static">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="450" y="190" as="sourcePoint" />
            <mxPoint x="450" y="220" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="arrow5" value="" style="endArrow=classic;html=1;rounded=0;strokeColor=#f44336;strokeWidth=3;" edge="1" parent="1" source="waf" target="api-gateway">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="690" y="140" as="sourcePoint" />
            <mxPoint x="730" y="140" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="arrow6" value="" style="endArrow=classic;html=1;rounded=0;strokeColor=#f57c00;strokeWidth=3;" edge="1" parent="1" source="api-gateway" target="lambda-story-gen">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="860" y="140" as="sourcePoint" />
            <mxPoint x="900" y="140" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="arrow7" value="" style="endArrow=classic;html=1;rounded=0;strokeColor=#ff8f00;strokeWidth=2;" edge="1" parent="1" source="lambda-story-gen" target="dynamodb">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="900" y="200" as="sourcePoint" />
            <mxPoint x="350" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="arrow8" value="" style="endArrow=classic;html=1;rounded=0;strokeColor=#ff8f00;strokeWidth=2;" edge="1" parent="1" source="lambda-story-gen" target="bedrock-nova-lite">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="900" y="200" as="sourcePoint" />
            <mxPoint x="500" y="500" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="arrow9" value="" style="endArrow=classic;html=1;rounded=0;strokeColor=#ff8f00;strokeWidth=2;" edge="1" parent="1" source="lambda-image-gen" target="s3-images">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1240" y="150" as="sourcePoint" />
            <mxPoint x="1020" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="arrow10" value="" style="endArrow=classic;html=1;rounded=0;strokeColor=#ff8f00;strokeWidth=2;" edge="1" parent="1" source="lambda-image-gen" target="bedrock-nova-canvas">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1200" y="200" as="sourcePoint" />
            <mxPoint x="650" y="500" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- Labels for arrows -->
        <mxCell id="dns-label" value="DNS Lookup" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#0277bd;" vertex="1" parent="1">
          <mxGeometry x="185" y="120" width="50" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="route-label" value="Route Traffic" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#f57c00;" vertex="1" parent="1">
          <mxGeometry x="355" y="120" width="50" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="security-label" value="Security Filter" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#4caf50;" vertex="1" parent="1">
          <mxGeometry x="525" y="120" width="50" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="api-label" value="API Calls" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#f44336;" vertex="1" parent="1">
          <mxGeometry x="695" y="120" width="50" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="invoke-label" value="Function Invocation" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#f57c00;" vertex="1" parent="1">
          <mxGeometry x="865" y="120" width="70" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="store-label" value="Store Data" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#ff8f00;" vertex="1" parent="1">
          <mxGeometry x="550" y="240" width="50" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="ai-label" value="AI Model Invocation" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#ff8f00;" vertex="1" parent="1">
          <mxGeometry x="650" y="350" width="80" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="image-store-label" value="Store Images" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#ff8f00;" vertex="1" parent="1">
          <mxGeometry x="1100" y="200" width="60" height="20" as="geometry" />
        </mxCell>
        
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>