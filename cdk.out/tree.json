{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.211.0"},"children":{"MadLibsServerless-development":{"id":"MadLibsServerless-development","path":"MadLibsServerless-development","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.211.0"},"children":{"GameDataTable":{"id":"GameDataTable","path":"MadLibsServerless-development/GameDataTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MadLibsServerless-development/GameDataTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"PK","attributeType":"S"},{"attributeName":"SK","attributeType":"S"},{"attributeName":"GSI1PK","attributeType":"S"},{"attributeName":"GSI1SK","attributeType":"S"},{"attributeName":"RoomCode","attributeType":"S"},{"attributeName":"CreatedAt","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","deletionProtectionEnabled":false,"globalSecondaryIndexes":[{"indexName":"GSI1","keySchema":[{"attributeName":"GSI1PK","keyType":"HASH"},{"attributeName":"GSI1SK","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"RoomCodeIndex","keySchema":[{"attributeName":"RoomCode","keyType":"HASH"},{"attributeName":"CreatedAt","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"PK","keyType":"HASH"},{"attributeName":"SK","keyType":"RANGE"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":true},"sseSpecification":{"sseEnabled":true},"tags":[{"key":"Component","value":"Database"},{"key":"Environment","value":"development"},{"key":"Project","value":"MadLibsGame"}],"timeToLiveSpecification":{"attributeName":"TTL","enabled":true}}}},"ScalingRole":{"id":"ScalingRole","path":"MadLibsServerless-development/GameDataTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}}}},"DynamoDBTableName":{"id":"DynamoDBTableName","path":"MadLibsServerless-development/DynamoDBTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"DynamoDBTableArn":{"id":"DynamoDBTableArn","path":"MadLibsServerless-development/DynamoDBTableArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"StoryGenerationFunction":{"id":"StoryGenerationFunction","path":"MadLibsServerless-development/StoryGenerationFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"MadLibsServerless-development/StoryGenerationFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"MadLibsServerless-development/StoryGenerationFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"MadLibsServerless-development/StoryGenerationFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Component","value":"Lambda"},{"key":"Environment","value":"development"},{"key":"Project","value":"MadLibsGame"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"MadLibsServerless-development/StoryGenerationFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MadLibsServerless-development/StoryGenerationFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["GameDataTable1D572DEE","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["GameDataTable1D572DEE","Arn"]},"/index/*"]]}]},{"Action":["bedrock:GetFoundationModel","bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream","bedrock:ListFoundationModels"],"Effect":"Allow","Resource":["arn:aws:bedrock:us-east-1::foundation-model/*","arn:aws:bedrock:us-east-1::foundation-model/amazon.nova-canvas-v1:0","arn:aws:bedrock:us-east-1::foundation-model/amazon.nova-lite-v1:0","arn:aws:bedrock:us-east-1::foundation-model/amazon.titan-image-generator-v1","arn:aws:bedrock:us-east-1::foundation-model/anthropic.claude-3-haiku-20240307-v1:0","arn:aws:bedrock:us-east-1::foundation-model/stability.stable-diffusion-xl-v1"]},{"Action":["s3:GetBucket*","s3:GetObject*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["ImagesBucket1E86AFB2","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ImagesBucket1E86AFB2","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"StoryGenerationFunctionServiceRoleDefaultPolicy026641AB","roles":[{"Ref":"StoryGenerationFunctionServiceRole5E84642C"}]}}}}}}},"Code":{"id":"Code","path":"MadLibsServerless-development/StoryGenerationFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"MadLibsServerless-development/StoryGenerationFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"MadLibsServerless-development/StoryGenerationFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"MadLibsServerless-development/StoryGenerationFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-madlibs25-assets-553368239051-us-east-1","s3Key":"3e1f0911526da5bb9a311bc6c1fd28169e6bf32976cafa61b394e420070b9245.zip"},"description":"Generates story templates using AWS Bedrock","environment":{"variables":{"TABLE_NAME":{"Ref":"GameDataTable1D572DEE"},"NODE_ENV":"development","DEBUG_ERRORS":"true","IMAGES_BUCKET_NAME":{"Ref":"ImagesBucket1E86AFB2"}}},"functionName":"MadLibsServerless-development-StoryGeneration","handler":"story-generation.handler","memorySize":512,"role":{"Fn::GetAtt":["StoryGenerationFunctionServiceRole5E84642C","Arn"]},"runtime":"nodejs18.x","tags":[{"key":"Component","value":"Lambda"},{"key":"Environment","value":"development"},{"key":"Project","value":"MadLibsGame"}],"timeout":30}}}}},"StoryFillFunction":{"id":"StoryFillFunction","path":"MadLibsServerless-development/StoryFillFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"MadLibsServerless-development/StoryFillFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"MadLibsServerless-development/StoryFillFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"MadLibsServerless-development/StoryFillFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Component","value":"Lambda"},{"key":"Environment","value":"development"},{"key":"Project","value":"MadLibsGame"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"MadLibsServerless-development/StoryFillFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MadLibsServerless-development/StoryFillFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["GameDataTable1D572DEE","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["GameDataTable1D572DEE","Arn"]},"/index/*"]]}]},{"Action":["bedrock:GetFoundationModel","bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream","bedrock:ListFoundationModels"],"Effect":"Allow","Resource":["arn:aws:bedrock:us-east-1::foundation-model/*","arn:aws:bedrock:us-east-1::foundation-model/amazon.nova-canvas-v1:0","arn:aws:bedrock:us-east-1::foundation-model/amazon.nova-lite-v1:0","arn:aws:bedrock:us-east-1::foundation-model/amazon.titan-image-generator-v1","arn:aws:bedrock:us-east-1::foundation-model/anthropic.claude-3-haiku-20240307-v1:0","arn:aws:bedrock:us-east-1::foundation-model/stability.stable-diffusion-xl-v1"]},{"Action":["s3:GetBucket*","s3:GetObject*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["ImagesBucket1E86AFB2","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ImagesBucket1E86AFB2","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"StoryFillFunctionServiceRoleDefaultPolicy207543C7","roles":[{"Ref":"StoryFillFunctionServiceRole9DD6599F"}]}}}}}}},"Code":{"id":"Code","path":"MadLibsServerless-development/StoryFillFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"MadLibsServerless-development/StoryFillFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"MadLibsServerless-development/StoryFillFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"MadLibsServerless-development/StoryFillFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-madlibs25-assets-553368239051-us-east-1","s3Key":"3e1f0911526da5bb9a311bc6c1fd28169e6bf32976cafa61b394e420070b9245.zip"},"description":"Fills story templates with player words","environment":{"variables":{"TABLE_NAME":{"Ref":"GameDataTable1D572DEE"},"NODE_ENV":"development","DEBUG_ERRORS":"true","IMAGES_BUCKET_NAME":{"Ref":"ImagesBucket1E86AFB2"}}},"functionName":"MadLibsServerless-development-StoryFill","handler":"story-fill.handler","memorySize":512,"role":{"Fn::GetAtt":["StoryFillFunctionServiceRole9DD6599F","Arn"]},"runtime":"nodejs18.x","tags":[{"key":"Component","value":"Lambda"},{"key":"Environment","value":"development"},{"key":"Project","value":"MadLibsGame"}],"timeout":30}}}}},"ImageGenerationFunction":{"id":"ImageGenerationFunction","path":"MadLibsServerless-development/ImageGenerationFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"MadLibsServerless-development/ImageGenerationFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"MadLibsServerless-development/ImageGenerationFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"MadLibsServerless-development/ImageGenerationFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Component","value":"Lambda"},{"key":"Environment","value":"development"},{"key":"Project","value":"MadLibsGame"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"MadLibsServerless-development/ImageGenerationFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MadLibsServerless-development/ImageGenerationFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:ConditionCheckItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:Scan"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["GameDataTable1D572DEE","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["GameDataTable1D572DEE","Arn"]},"/index/*"]]}]},{"Action":["bedrock:GetFoundationModel","bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream","bedrock:ListFoundationModels"],"Effect":"Allow","Resource":["arn:aws:bedrock:us-east-1::foundation-model/*","arn:aws:bedrock:us-east-1::foundation-model/amazon.nova-canvas-v1:0","arn:aws:bedrock:us-east-1::foundation-model/amazon.nova-lite-v1:0","arn:aws:bedrock:us-east-1::foundation-model/amazon.titan-image-generator-v1","arn:aws:bedrock:us-east-1::foundation-model/anthropic.claude-3-haiku-20240307-v1:0","arn:aws:bedrock:us-east-1::foundation-model/stability.stable-diffusion-xl-v1"]},{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["ImagesBucket1E86AFB2","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ImagesBucket1E86AFB2","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"ImageGenerationFunctionServiceRoleDefaultPolicy57CF8037","roles":[{"Ref":"ImageGenerationFunctionServiceRole7C68AEC3"}]}}}}}}},"Code":{"id":"Code","path":"MadLibsServerless-development/ImageGenerationFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"MadLibsServerless-development/ImageGenerationFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"MadLibsServerless-development/ImageGenerationFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"MadLibsServerless-development/ImageGenerationFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-madlibs25-assets-553368239051-us-east-1","s3Key":"3e1f0911526da5bb9a311bc6c1fd28169e6bf32976cafa61b394e420070b9245.zip"},"description":"Generates images using AWS Bedrock Nova Canvas - Parsed API key","environment":{"variables":{"TABLE_NAME":{"Ref":"GameDataTable1D572DEE"},"NODE_ENV":"development","DEBUG_ERRORS":"true","IMAGES_BUCKET_NAME":{"Ref":"ImagesBucket1E86AFB2"}}},"functionName":"MadLibsServerless-development-ImageGeneration","handler":"image-generation.handler","memorySize":1024,"role":{"Fn::GetAtt":["ImageGenerationFunctionServiceRole7C68AEC3","Arn"]},"runtime":"nodejs18.x","tags":[{"key":"Component","value":"Lambda"},{"key":"Environment","value":"development"},{"key":"Project","value":"MadLibsGame"}],"timeout":60}}}}},"TestAwsFunction":{"id":"TestAwsFunction","path":"MadLibsServerless-development/TestAwsFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.211.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"MadLibsServerless-development/TestAwsFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"MadLibsServerless-development/TestAwsFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"MadLibsServerless-development/TestAwsFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Component","value":"Lambda"},{"key":"Environment","value":"development"},{"key":"Project","value":"MadLibsGame"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"MadLibsServerless-development/TestAwsFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MadLibsServerless-development/TestAwsFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:ConditionCheckItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:Scan"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["GameDataTable1D572DEE","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["GameDataTable1D572DEE","Arn"]},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"TestAwsFunctionServiceRoleDefaultPolicy7CD49E89","roles":[{"Ref":"TestAwsFunctionServiceRole471FBCF4"}]}}}}}}},"Code":{"id":"Code","path":"MadLibsServerless-development/TestAwsFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"MadLibsServerless-development/TestAwsFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"MadLibsServerless-development/TestAwsFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"MadLibsServerless-development/TestAwsFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-madlibs25-assets-553368239051-us-east-1","s3Key":"3e1f0911526da5bb9a311bc6c1fd28169e6bf32976cafa61b394e420070b9245.zip"},"description":"Tests AWS service connectivity","environment":{"variables":{"TABLE_NAME":{"Ref":"GameDataTable1D572DEE"},"NODE_ENV":"development","DEBUG_ERRORS":"true"}},"functionName":"MadLibsServerless-development-TestAws","handler":"test-aws.handler","memorySize":256,"role":{"Fn::GetAtt":["TestAwsFunctionServiceRole471FBCF4","Arn"]},"runtime":"nodejs18.x","tags":[{"key":"Component","value":"Lambda"},{"key":"Environment","value":"development"},{"key":"Project","value":"MadLibsGame"}],"timeout":15}}}}},"StoryGenerationFunctionArn":{"id":"StoryGenerationFunctionArn","path":"MadLibsServerless-development/StoryGenerationFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"ImageGenerationFunctionArn":{"id":"ImageGenerationFunctionArn","path":"MadLibsServerless-development/ImageGenerationFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"WebsiteBucket":{"id":"WebsiteBucket","path":"MadLibsServerless-development/WebsiteBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MadLibsServerless-development/WebsiteBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"AES256"}}]},"bucketName":"madlibsserverless-development-website-553368239051","publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true},"tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"},{"key":"Component","value":"StaticHosting"},{"key":"Environment","value":"development"},{"key":"Project","value":"MadLibsGame"}],"versioningConfiguration":{"status":"Enabled"},"websiteConfiguration":{"indexDocument":"index.html","errorDocument":"error.html"}}}},"Policy":{"id":"Policy","path":"MadLibsServerless-development/WebsiteBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MadLibsServerless-development/WebsiteBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"WebsiteBucket75C24D94"},"policyDocument":{"Statement":[{"Action":["s3:DeleteObject*","s3:GetBucket*","s3:List*","s3:PutBucketPolicy"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]}},"Resource":[{"Fn::GetAtt":["WebsiteBucket75C24D94","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["WebsiteBucket75C24D94","Arn"]},"/*"]]}]},{"Action":"s3:GetObject","Condition":{"StringEquals":{"AWS:SourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":cloudfront::",{"Ref":"AWS::AccountId"},":distribution/",{"Ref":"WebsiteDistribution75DCDA0B"}]]}}},"Effect":"Allow","Principal":{"Service":"cloudfront.amazonaws.com"},"Resource":{"Fn::Join":["",[{"Fn::GetAtt":["WebsiteBucket75C24D94","Arn"]},"/*"]]}},{"Action":"s3:GetObject","Condition":{"StringEquals":{"AWS:SourceArn":{"Fn::Join":["",["arn:aws:cloudfront::553368239051:distribution/",{"Ref":"WebsiteDistribution75DCDA0B"}]]}}},"Effect":"Allow","Principal":{"Service":"cloudfront.amazonaws.com"},"Resource":{"Fn::Join":["",[{"Fn::GetAtt":["WebsiteBucket75C24D94","Arn"]},"/*"]]}}],"Version":"2012-10-17"}}}}}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"MadLibsServerless-development/WebsiteBucket/AutoDeleteObjectsCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.211.0","metadata":[]},"children":{"Default":{"id":"Default","path":"MadLibsServerless-development/WebsiteBucket/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}}}},"Custom::S3AutoDeleteObjectsCustomResourceProvider":{"id":"Custom::S3AutoDeleteObjectsCustomResourceProvider","path":"MadLibsServerless-development/Custom::S3AutoDeleteObjectsCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.211.0"},"children":{"Staging":{"id":"Staging","path":"MadLibsServerless-development/Custom::S3AutoDeleteObjectsCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"Role":{"id":"Role","path":"MadLibsServerless-development/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}},"Handler":{"id":"Handler","path":"MadLibsServerless-development/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"ImagesBucket":{"id":"ImagesBucket","path":"MadLibsServerless-development/ImagesBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MadLibsServerless-development/ImagesBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"AES256"}}]},"bucketName":"madlibsserverless-development-images-553368239051","lifecycleConfiguration":{"rules":[{"expirationInDays":1,"id":"DeleteOldImages","status":"Enabled"}]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true},"tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"},{"key":"Component","value":"ImageStorage"},{"key":"Environment","value":"development"},{"key":"Project","value":"MadLibsGame"}]}}},"Policy":{"id":"Policy","path":"MadLibsServerless-development/ImagesBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MadLibsServerless-development/ImagesBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"ImagesBucket1E86AFB2"},"policyDocument":{"Statement":[{"Action":["s3:DeleteObject*","s3:GetBucket*","s3:List*","s3:PutBucketPolicy"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]}},"Resource":[{"Fn::GetAtt":["ImagesBucket1E86AFB2","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ImagesBucket1E86AFB2","Arn"]},"/*"]]}]},{"Action":"s3:GetObject","Condition":{"StringEquals":{"AWS:SourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":cloudfront::",{"Ref":"AWS::AccountId"},":distribution/",{"Ref":"WebsiteDistribution75DCDA0B"}]]}}},"Effect":"Allow","Principal":{"Service":"cloudfront.amazonaws.com"},"Resource":{"Fn::Join":["",[{"Fn::GetAtt":["ImagesBucket1E86AFB2","Arn"]},"/*"]]}},{"Action":"s3:GetObject","Condition":{"StringEquals":{"AWS:SourceArn":{"Fn::Join":["",["arn:aws:cloudfront::553368239051:distribution/",{"Ref":"WebsiteDistribution75DCDA0B"}]]}}},"Effect":"Allow","Principal":{"Service":"cloudfront.amazonaws.com"},"Resource":{"Fn::Join":["",[{"Fn::GetAtt":["ImagesBucket1E86AFB2","Arn"]},"/*"]]}}],"Version":"2012-10-17"}}}}}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"MadLibsServerless-development/ImagesBucket/AutoDeleteObjectsCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.211.0","metadata":[]},"children":{"Default":{"id":"Default","path":"MadLibsServerless-development/ImagesBucket/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}}}},"WebsiteBucketName":{"id":"WebsiteBucketName","path":"MadLibsServerless-development/WebsiteBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"ImagesBucketName":{"id":"ImagesBucketName","path":"MadLibsServerless-development/ImagesBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"MadLibsApi":{"id":"MadLibsApi","path":"MadLibsServerless-development/MadLibsApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MadLibsServerless-development/MadLibsApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"description":"Mad Libs Game API Gateway","name":"MadLibsServerless-development-API","tags":[{"key":"Component","value":"APIGateway"},{"key":"Environment","value":"development"},{"key":"Project","value":"MadLibsGame"}]}}},"CloudWatchRole":{"id":"CloudWatchRole","path":"MadLibsServerless-development/MadLibsApi/CloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportCloudWatchRole":{"id":"ImportCloudWatchRole","path":"MadLibsServerless-development/MadLibsApi/CloudWatchRole/ImportCloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"MadLibsServerless-development/MadLibsApi/CloudWatchRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"apigateway.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"]]}],"tags":[{"key":"Component","value":"APIGateway"},{"key":"Environment","value":"development"},{"key":"Project","value":"MadLibsGame"}]}}}}},"Account":{"id":"Account","path":"MadLibsServerless-development/MadLibsApi/Account","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnAccount","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Account","aws:cdk:cloudformation:props":{"cloudWatchRoleArn":{"Fn::GetAtt":["MadLibsApiCloudWatchRole9B5CC08F","Arn"]}}}},"Deployment":{"id":"Deployment","path":"MadLibsServerless-development/MadLibsApi/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MadLibsServerless-development/MadLibsApi/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"Mad Libs Game API Gateway","restApiId":{"Ref":"MadLibsApi19EE5F18"}}}}}},"DeploymentStage.prod":{"id":"DeploymentStage.prod","path":"MadLibsServerless-development/MadLibsApi/DeploymentStage.prod","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MadLibsServerless-development/MadLibsApi/DeploymentStage.prod/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"deploymentId":{"Ref":"MadLibsApiDeployment81F8C04817380e4ca01527611d511ddbf57ee141"},"methodSettings":[{"httpMethod":"*","resourcePath":"/*","dataTraceEnabled":true,"loggingLevel":"INFO","metricsEnabled":true,"throttlingBurstLimit":200,"throttlingRateLimit":100}],"restApiId":{"Ref":"MadLibsApi19EE5F18"},"stageName":"prod","tags":[{"key":"Component","value":"APIGateway"},{"key":"Environment","value":"development"},{"key":"Project","value":"MadLibsGame"}]}}}}},"Endpoint":{"id":"Endpoint","path":"MadLibsServerless-development/MadLibsApi/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"Default":{"id":"Default","path":"MadLibsServerless-development/MadLibsApi/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"2.211.0","metadata":[]},"children":{"OPTIONS":{"id":"OPTIONS","path":"MadLibsServerless-development/MadLibsApi/Default/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MadLibsServerless-development/MadLibsApi/Default/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Fn::GetAtt":["MadLibsApi19EE5F18","RootResourceId"]},"restApiId":{"Ref":"MadLibsApi19EE5F18"}}}}}},"api":{"id":"api","path":"MadLibsServerless-development/MadLibsApi/Default/api","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MadLibsServerless-development/MadLibsApi/Default/api/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["MadLibsApi19EE5F18","RootResourceId"]},"pathPart":"api","restApiId":{"Ref":"MadLibsApi19EE5F18"}}}},"OPTIONS":{"id":"OPTIONS","path":"MadLibsServerless-development/MadLibsApi/Default/api/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MadLibsServerless-development/MadLibsApi/Default/api/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"MadLibsApiapiD600B267"},"restApiId":{"Ref":"MadLibsApi19EE5F18"}}}}}},"story":{"id":"story","path":"MadLibsServerless-development/MadLibsApi/Default/api/story","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MadLibsServerless-development/MadLibsApi/Default/api/story/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"MadLibsApiapiD600B267"},"pathPart":"story","restApiId":{"Ref":"MadLibsApi19EE5F18"}}}},"OPTIONS":{"id":"OPTIONS","path":"MadLibsServerless-development/MadLibsApi/Default/api/story/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MadLibsServerless-development/MadLibsApi/Default/api/story/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"MadLibsApiapistory2A57DE63"},"restApiId":{"Ref":"MadLibsApi19EE5F18"}}}}}},"generate-template":{"id":"generate-template","path":"MadLibsServerless-development/MadLibsApi/Default/api/story/generate-template","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MadLibsServerless-development/MadLibsApi/Default/api/story/generate-template/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"MadLibsApiapistory2A57DE63"},"pathPart":"generate-template","restApiId":{"Ref":"MadLibsApi19EE5F18"}}}},"OPTIONS":{"id":"OPTIONS","path":"MadLibsServerless-development/MadLibsApi/Default/api/story/generate-template/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MadLibsServerless-development/MadLibsApi/Default/api/story/generate-template/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"MadLibsApiapistorygeneratetemplate646247E7"},"restApiId":{"Ref":"MadLibsApi19EE5F18"}}}}}},"POST":{"id":"POST","path":"MadLibsServerless-development/MadLibsApi/Default/api/story/generate-template/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"ApiPermission.MadLibsServerlessdevelopmentMadLibsApi5A1A8DB2.POST..api.story.generate-template":{"id":"ApiPermission.MadLibsServerlessdevelopmentMadLibsApi5A1A8DB2.POST..api.story.generate-template","path":"MadLibsServerless-development/MadLibsApi/Default/api/story/generate-template/POST/ApiPermission.MadLibsServerlessdevelopmentMadLibsApi5A1A8DB2.POST..api.story.generate-template","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["StoryGenerationFunction1EBBE000","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:553368239051:",{"Ref":"MadLibsApi19EE5F18"},"/",{"Ref":"MadLibsApiDeploymentStageprod803CAEFB"},"/POST/api/story/generate-template"]]}}}},"ApiPermission.Test.MadLibsServerlessdevelopmentMadLibsApi5A1A8DB2.POST..api.story.generate-template":{"id":"ApiPermission.Test.MadLibsServerlessdevelopmentMadLibsApi5A1A8DB2.POST..api.story.generate-template","path":"MadLibsServerless-development/MadLibsApi/Default/api/story/generate-template/POST/ApiPermission.Test.MadLibsServerlessdevelopmentMadLibsApi5A1A8DB2.POST..api.story.generate-template","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["StoryGenerationFunction1EBBE000","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:553368239051:",{"Ref":"MadLibsApi19EE5F18"},"/test-invoke-stage/POST/api/story/generate-template"]]}}}},"Resource":{"id":"Resource","path":"MadLibsServerless-development/MadLibsApi/Default/api/story/generate-template/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["StoryGenerationFunction1EBBE000","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST","requestTemplates":{"application/json":"{ \"statusCode\": \"200\" }"}},"resourceId":{"Ref":"MadLibsApiapistorygeneratetemplate646247E7"},"restApiId":{"Ref":"MadLibsApi19EE5F18"}}}}}}}},"fill-template":{"id":"fill-template","path":"MadLibsServerless-development/MadLibsApi/Default/api/story/fill-template","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MadLibsServerless-development/MadLibsApi/Default/api/story/fill-template/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"MadLibsApiapistory2A57DE63"},"pathPart":"fill-template","restApiId":{"Ref":"MadLibsApi19EE5F18"}}}},"OPTIONS":{"id":"OPTIONS","path":"MadLibsServerless-development/MadLibsApi/Default/api/story/fill-template/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MadLibsServerless-development/MadLibsApi/Default/api/story/fill-template/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"MadLibsApiapistoryfilltemplate389A6396"},"restApiId":{"Ref":"MadLibsApi19EE5F18"}}}}}},"POST":{"id":"POST","path":"MadLibsServerless-development/MadLibsApi/Default/api/story/fill-template/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"ApiPermission.MadLibsServerlessdevelopmentMadLibsApi5A1A8DB2.POST..api.story.fill-template":{"id":"ApiPermission.MadLibsServerlessdevelopmentMadLibsApi5A1A8DB2.POST..api.story.fill-template","path":"MadLibsServerless-development/MadLibsApi/Default/api/story/fill-template/POST/ApiPermission.MadLibsServerlessdevelopmentMadLibsApi5A1A8DB2.POST..api.story.fill-template","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["StoryFillFunctionB9FEA412","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:553368239051:",{"Ref":"MadLibsApi19EE5F18"},"/",{"Ref":"MadLibsApiDeploymentStageprod803CAEFB"},"/POST/api/story/fill-template"]]}}}},"ApiPermission.Test.MadLibsServerlessdevelopmentMadLibsApi5A1A8DB2.POST..api.story.fill-template":{"id":"ApiPermission.Test.MadLibsServerlessdevelopmentMadLibsApi5A1A8DB2.POST..api.story.fill-template","path":"MadLibsServerless-development/MadLibsApi/Default/api/story/fill-template/POST/ApiPermission.Test.MadLibsServerlessdevelopmentMadLibsApi5A1A8DB2.POST..api.story.fill-template","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["StoryFillFunctionB9FEA412","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:553368239051:",{"Ref":"MadLibsApi19EE5F18"},"/test-invoke-stage/POST/api/story/fill-template"]]}}}},"Resource":{"id":"Resource","path":"MadLibsServerless-development/MadLibsApi/Default/api/story/fill-template/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["StoryFillFunctionB9FEA412","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST","requestTemplates":{"application/json":"{ \"statusCode\": \"200\" }"}},"resourceId":{"Ref":"MadLibsApiapistoryfilltemplate389A6396"},"restApiId":{"Ref":"MadLibsApi19EE5F18"}}}}}}}}}},"image":{"id":"image","path":"MadLibsServerless-development/MadLibsApi/Default/api/image","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MadLibsServerless-development/MadLibsApi/Default/api/image/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"MadLibsApiapiD600B267"},"pathPart":"image","restApiId":{"Ref":"MadLibsApi19EE5F18"}}}},"OPTIONS":{"id":"OPTIONS","path":"MadLibsServerless-development/MadLibsApi/Default/api/image/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MadLibsServerless-development/MadLibsApi/Default/api/image/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"MadLibsApiapiimage22A7932D"},"restApiId":{"Ref":"MadLibsApi19EE5F18"}}}}}},"generate":{"id":"generate","path":"MadLibsServerless-development/MadLibsApi/Default/api/image/generate","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MadLibsServerless-development/MadLibsApi/Default/api/image/generate/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"MadLibsApiapiimage22A7932D"},"pathPart":"generate","restApiId":{"Ref":"MadLibsApi19EE5F18"}}}},"OPTIONS":{"id":"OPTIONS","path":"MadLibsServerless-development/MadLibsApi/Default/api/image/generate/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MadLibsServerless-development/MadLibsApi/Default/api/image/generate/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"MadLibsApiapiimagegenerate914820A8"},"restApiId":{"Ref":"MadLibsApi19EE5F18"}}}}}},"POST":{"id":"POST","path":"MadLibsServerless-development/MadLibsApi/Default/api/image/generate/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"ApiPermission.MadLibsServerlessdevelopmentMadLibsApi5A1A8DB2.POST..api.image.generate":{"id":"ApiPermission.MadLibsServerlessdevelopmentMadLibsApi5A1A8DB2.POST..api.image.generate","path":"MadLibsServerless-development/MadLibsApi/Default/api/image/generate/POST/ApiPermission.MadLibsServerlessdevelopmentMadLibsApi5A1A8DB2.POST..api.image.generate","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ImageGenerationFunction64C380B8","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:553368239051:",{"Ref":"MadLibsApi19EE5F18"},"/",{"Ref":"MadLibsApiDeploymentStageprod803CAEFB"},"/POST/api/image/generate"]]}}}},"ApiPermission.Test.MadLibsServerlessdevelopmentMadLibsApi5A1A8DB2.POST..api.image.generate":{"id":"ApiPermission.Test.MadLibsServerlessdevelopmentMadLibsApi5A1A8DB2.POST..api.image.generate","path":"MadLibsServerless-development/MadLibsApi/Default/api/image/generate/POST/ApiPermission.Test.MadLibsServerlessdevelopmentMadLibsApi5A1A8DB2.POST..api.image.generate","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ImageGenerationFunction64C380B8","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:553368239051:",{"Ref":"MadLibsApi19EE5F18"},"/test-invoke-stage/POST/api/image/generate"]]}}}},"Resource":{"id":"Resource","path":"MadLibsServerless-development/MadLibsApi/Default/api/image/generate/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ImageGenerationFunction64C380B8","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST","requestTemplates":{"application/json":"{ \"statusCode\": \"200\" }"}},"resourceId":{"Ref":"MadLibsApiapiimagegenerate914820A8"},"restApiId":{"Ref":"MadLibsApi19EE5F18"}}}}}}}}}},"test-aws":{"id":"test-aws","path":"MadLibsServerless-development/MadLibsApi/Default/api/test-aws","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MadLibsServerless-development/MadLibsApi/Default/api/test-aws/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"MadLibsApiapiD600B267"},"pathPart":"test-aws","restApiId":{"Ref":"MadLibsApi19EE5F18"}}}},"OPTIONS":{"id":"OPTIONS","path":"MadLibsServerless-development/MadLibsApi/Default/api/test-aws/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MadLibsServerless-development/MadLibsApi/Default/api/test-aws/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"MadLibsApiapitestawsB06AE6E0"},"restApiId":{"Ref":"MadLibsApi19EE5F18"}}}}}},"GET":{"id":"GET","path":"MadLibsServerless-development/MadLibsApi/Default/api/test-aws/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[]},"children":{"ApiPermission.MadLibsServerlessdevelopmentMadLibsApi5A1A8DB2.GET..api.test-aws":{"id":"ApiPermission.MadLibsServerlessdevelopmentMadLibsApi5A1A8DB2.GET..api.test-aws","path":"MadLibsServerless-development/MadLibsApi/Default/api/test-aws/GET/ApiPermission.MadLibsServerlessdevelopmentMadLibsApi5A1A8DB2.GET..api.test-aws","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["TestAwsFunction3B4B74A8","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:553368239051:",{"Ref":"MadLibsApi19EE5F18"},"/",{"Ref":"MadLibsApiDeploymentStageprod803CAEFB"},"/GET/api/test-aws"]]}}}},"ApiPermission.Test.MadLibsServerlessdevelopmentMadLibsApi5A1A8DB2.GET..api.test-aws":{"id":"ApiPermission.Test.MadLibsServerlessdevelopmentMadLibsApi5A1A8DB2.GET..api.test-aws","path":"MadLibsServerless-development/MadLibsApi/Default/api/test-aws/GET/ApiPermission.Test.MadLibsServerlessdevelopmentMadLibsApi5A1A8DB2.GET..api.test-aws","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["TestAwsFunction3B4B74A8","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:553368239051:",{"Ref":"MadLibsApi19EE5F18"},"/test-invoke-stage/GET/api/test-aws"]]}}}},"Resource":{"id":"Resource","path":"MadLibsServerless-development/MadLibsApi/Default/api/test-aws/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["TestAwsFunction3B4B74A8","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST","requestTemplates":{"application/json":"{ \"statusCode\": \"200\" }"}},"resourceId":{"Ref":"MadLibsApiapitestawsB06AE6E0"},"restApiId":{"Ref":"MadLibsApi19EE5F18"}}}}}}}}}}}}}},"ApiGatewayUrl":{"id":"ApiGatewayUrl","path":"MadLibsServerless-development/ApiGatewayUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"ApiGatewayId":{"id":"ApiGatewayId","path":"MadLibsServerless-development/ApiGatewayId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"WebsiteOAC":{"id":"WebsiteOAC","path":"MadLibsServerless-development/WebsiteOAC","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.S3OriginAccessControl","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MadLibsServerless-development/WebsiteOAC/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnOriginAccessControl","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::OriginAccessControl","aws:cdk:cloudformation:props":{"originAccessControlConfig":{"description":"OAC for Mad Libs website bucket","name":"MadLibsServerlessdevelopmentWebsiteOAC591F54AB","signingBehavior":"always","signingProtocol":"sigv4","originAccessControlOriginType":"s3"}}}}}},"CloudFrontLogsBucket":{"id":"CloudFrontLogsBucket","path":"MadLibsServerless-development/CloudFrontLogsBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MadLibsServerless-development/CloudFrontLogsBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketName":"madlibsserverless-development-cloudfront-logs-553368239051","lifecycleConfiguration":{"rules":[{"expirationInDays":30,"id":"DeleteOldLogs","status":"Enabled"}]},"ownershipControls":{"rules":[{"objectOwnership":"BucketOwnerPreferred"}]},"tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"}]}}},"Policy":{"id":"Policy","path":"MadLibsServerless-development/CloudFrontLogsBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MadLibsServerless-development/CloudFrontLogsBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"CloudFrontLogsBucketFE303C6F"},"policyDocument":{"Statement":[{"Action":["s3:DeleteObject*","s3:GetBucket*","s3:List*","s3:PutBucketPolicy"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]}},"Resource":[{"Fn::GetAtt":["CloudFrontLogsBucketFE303C6F","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["CloudFrontLogsBucketFE303C6F","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}}}}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"MadLibsServerless-development/CloudFrontLogsBucket/AutoDeleteObjectsCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.211.0","metadata":[]},"children":{"Default":{"id":"Default","path":"MadLibsServerless-development/CloudFrontLogsBucket/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}}}},"WebsiteDistribution":{"id":"WebsiteDistribution","path":"MadLibsServerless-development/WebsiteDistribution","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.Distribution","version":"2.211.0","metadata":[]},"children":{"Origin1":{"id":"Origin1","path":"MadLibsServerless-development/WebsiteDistribution/Origin1","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Origin2":{"id":"Origin2","path":"MadLibsServerless-development/WebsiteDistribution/Origin2","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Origin3":{"id":"Origin3","path":"MadLibsServerless-development/WebsiteDistribution/Origin3","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Resource":{"id":"Resource","path":"MadLibsServerless-development/WebsiteDistribution/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnDistribution","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::Distribution","aws:cdk:cloudformation:props":{"distributionConfig":{"enabled":true,"origins":[{"domainName":{"Fn::GetAtt":["WebsiteBucket75C24D94","RegionalDomainName"]},"id":"MadLibsServerlessdevelopmentWebsiteDistributionOrigin17B50E214","s3OriginConfig":{"originAccessIdentity":""},"originAccessControlId":{"Fn::GetAtt":["WebsiteOAC7E5DAECB","Id"]}},{"domainName":{"Fn::Select":[2,{"Fn::Split":["/",{"Fn::Join":["",["https://",{"Ref":"MadLibsApi19EE5F18"},".execute-api.us-east-1.",{"Ref":"AWS::URLSuffix"},"/",{"Ref":"MadLibsApiDeploymentStageprod803CAEFB"},"/"]]}]}]},"id":"MadLibsServerlessdevelopmentWebsiteDistributionOrigin24C303544","originPath":{"Fn::Join":["",["/",{"Fn::Select":[3,{"Fn::Split":["/",{"Fn::Join":["",["https://",{"Ref":"MadLibsApi19EE5F18"},".execute-api.us-east-1.",{"Ref":"AWS::URLSuffix"},"/",{"Ref":"MadLibsApiDeploymentStageprod803CAEFB"},"/"]]}]}]}]]},"customOriginConfig":{"originSslProtocols":["TLSv1.2"],"originProtocolPolicy":"https-only"}},{"domainName":{"Fn::GetAtt":["ImagesBucket1E86AFB2","RegionalDomainName"]},"id":"MadLibsServerlessdevelopmentWebsiteDistributionOrigin310B47753","s3OriginConfig":{"originAccessIdentity":""},"originAccessControlId":{"Fn::GetAtt":["WebsiteOAC7E5DAECB","Id"]}}],"defaultCacheBehavior":{"pathPattern":"*","targetOriginId":"MadLibsServerlessdevelopmentWebsiteDistributionOrigin17B50E214","allowedMethods":["GET","HEAD"],"cachedMethods":["GET","HEAD"],"cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","compress":true,"viewerProtocolPolicy":"redirect-to-https"},"cacheBehaviors":[{"pathPattern":"/api/*","targetOriginId":"MadLibsServerlessdevelopmentWebsiteDistributionOrigin24C303544","allowedMethods":["GET","HEAD","OPTIONS","PUT","PATCH","POST","DELETE"],"cachePolicyId":"4135ea2d-6df8-44a3-9df3-4b5a84be39ad","compress":true,"originRequestPolicyId":"88a5eaf4-2fd4-4709-b370-b4c650ea3fcf","viewerProtocolPolicy":"redirect-to-https"},{"pathPattern":"/images/*","targetOriginId":"MadLibsServerlessdevelopmentWebsiteDistributionOrigin310B47753","allowedMethods":["GET","HEAD"],"cachedMethods":["GET","HEAD"],"cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","compress":true,"viewerProtocolPolicy":"redirect-to-https"}],"comment":"Mad Libs Game CloudFront Distribution","customErrorResponses":[{"errorCachingMinTtl":300,"errorCode":404,"responseCode":200,"responsePagePath":"/index.html"},{"errorCachingMinTtl":300,"errorCode":403,"responseCode":200,"responsePagePath":"/index.html"}],"defaultRootObject":"index.html","httpVersion":"http2","ipv6Enabled":true,"logging":{"bucket":{"Fn::GetAtt":["CloudFrontLogsBucketFE303C6F","RegionalDomainName"]},"prefix":"cloudfront-logs/"},"priceClass":"PriceClass_100"},"tags":[{"key":"Component","value":"CDN"},{"key":"Environment","value":"development"},{"key":"Project","value":"MadLibsGame"}]}}}}},"CloudFrontDistributionId":{"id":"CloudFrontDistributionId","path":"MadLibsServerless-development/CloudFrontDistributionId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"CloudFrontDomainName":{"id":"CloudFrontDomainName","path":"MadLibsServerless-development/CloudFrontDomainName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"WebsiteUrl":{"id":"WebsiteUrl","path":"MadLibsServerless-development/WebsiteUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"StackName":{"id":"StackName","path":"MadLibsServerless-development/StackName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"Region":{"id":"Region","path":"MadLibsServerless-development/Region","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"MadLibsServerless-development/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"MadLibsServerless-development/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"MadLibsServerless-development/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.211.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"MadLibsServerless-development/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.211.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}